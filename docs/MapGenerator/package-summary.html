<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Fri May 22 03:49:46 CEST 2015 -->
<title>MapGenerator</title>
<meta name="date" content="2015-05-22">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MapGenerator";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Package</li>
<li><a href="../MapGenerator/Generators/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?MapGenerator/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;MapGenerator</h1>
<div class="docSummary">
<div class="block"><!DOCTYPE html><html><head><meta charset="utf-8"><title>Untitled Document.md</title><style></style></head><body>
 <h1 id="vrep-map-generator">Vrep map generator</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer"><a name="package.description">
<!--   -->
</a>
<h2 title="Package MapGenerator Description">Package MapGenerator Description</h2>
<div class="block"><!DOCTYPE html><html><head><meta charset="utf-8"><title>Untitled Document.md</title><style></style></head><body>
 <h1 id="vrep-map-generator">Vrep map generator</h1>
 <p>This program should be used for map generation. Program is written in Java.
 Output from algorithm might be directly send to <a href="http://www.coppeliarobotics.com/downloads.html">Vrep</a>
 or saved as file in specific format described bellow. Algorithm generates random rooms which sizes
 might be changed by modified config file.</p>
 <h1 id="algorithm-usage">Algorithm usage</h1>
 <ol>
 <li>Generates specified number of rooms by clicking on button GENERATE</li>
 <li>Rooms might be moved by clicking on certain room or room&#39;s number in top part of window.
 Selected room is colored blue. It is possible to move room with keyboard arrows and rising and lowering room
 with Page up and Page down. Room movement is bounded by size of room 0 which is considered as map environment (garden)</li>
 <li>Clicking on button CALCULATE WALLS AND DOORS may be performed recalculation after rome movement or when
 different door configuration is desired.</li>
 <li>Any time during the run of application it is possible to load config file or change number of generated rooms
 in left column. Button GENERATE should be pressed after any configuration change.</li>
 <li>It is possible to output data by saving generated map in parsable text file by clicking on SAVE MAP AS.</li>
 <li>If desired it is possible to send generated map directly to Vrep. For more information please see section below.</li>
 </ol>
 <h1 id="configuration-file">Configuration file</h1>
 <p>Configuration file can be loaded from GUI. This has strictly defined structure</p>
 <pre><code>number_of_rooms
 width:height
 width:height
 width:height
 ....
 </code></pre><p>At the first line must be number of rooms we want to generate to the map. On all other lines is described one room type
 per line. Parameter width and height must be specified. Both parameters should be integers from range [2,20].
 Numbers above this interval are not advised.</p>
 <h1 id="parsable-text-output">Parsable text output</h1>
 <p>It is possible to save map as a text file. one field of the map is bounded by :. One line represents one row of the map.</p>
 <pre><code>8:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:7
 0:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:0
 0:-2:-2:-2:8:1:-1:7:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:0
 0:-2:-2:-2:0:-2:-2:0:8:1:1:1:1:1:7:-2:-2:-2:-2:0
 0:-2:-2:-2:0:-2:-2:0:0:-2:-2:-2:-2:-2:-1:-2:-2:-2:-2:0
 0:-2:-2:-2:0:-2:-2:0:0:-2:-2:-2:-2:-2:0:-2:-2:-2:-2:0
 0:-2:-2:-2:0:-2:-2:0:0:-2:-2:-2:-2:-2:0:-2:-2:-2:-2:0
 0:-2:-2:-2:3:-1:1:5:2:-2:-2:-2:-2:-2:0:-2:-2:-2:-2:0
 0:-2:-2:-2:0:-2:-2:-2:-1:-2:-2:-2:-2:-2:0:-2:-2:-2:-2:0
 0:-2:-2:-2:0:-2:-2:-2:3:1:1:1:1:1:2:-2:-2:-2:-2:0
 0:-2:-2:-2:0:-2:-2:-2:-1:-2:-2:-2:-2:-2:0:-2:-2:-2:-2:0
 0:-2:-2:-2:3:1:-1:1:2:8:1:1:1:-1:5:7:-2:-2:-2:0
 0:-2:-2:-2:0:-2:-2:-2:3:2:-2:-2:-2:-2:-2:0:-2:-2:-2:0
 0:-2:-2:-2:0:-2:-2:-2:0:0:-2:-2:-2:-2:-2:0:-2:-2:-2:0
 0:-2:-2:-2:9:1:1:1:6:0:-2:-2:-2:-2:-2:0:-2:-2:-2:0
 0:-2:-2:-2:-2:-2:-2:-2:-2:9:1:1:1:1:1:6:-2:-2:-2:0
 0:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:0
 0:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:0
 0:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:-2:0
 9:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:6

 -2 - empty field
 -1 - door
 0 - horizontal line
 1 - vertical line
 2 - horizontal line with top edge -&#39;-
 3 - horizontal line with bottom edge -,-
 4 - vertical line with right edge |-
 5 - vertical line with left edge -|
 6 - left top corner -&#39;
 7 - right top corner &#39;-
 8 - right down corner ,-
 9 - left down corner -,
 10 - cross -|-
 </code></pre><h1 id="vrep-support">Vrep support</h1>
 <p>Vrep receives map data through socket on default port 9999.</p>
 <ol>
 <li>Download <a href="http://www.coppeliarobotics.com/downloads.html">Vrep</a> Pro Edu (complete) or player edition (just preview)</li>
 <li>Load the scene by clicking File-&gt;Open Scene -&gt; navigate to folder with java program Vrep-map-generator/vrep/ and
 open file java_gen.ttt</li>
 <li><p>Configuring local PATHS. Double click on the list like icon next to object renderer in project explorer.
 Integrated editor should open. Change absolute paths for Walls objects and Map storage based on your hierarchy structure. </p>
 <p>   SOURCE_WALLS=&quot;/home/lukas/workspace/java/MFF/Vrep-map-generator/vrep/walls/&quot;
 SOURCE_MAP=&quot;/home/lukas/workspace/java/MFF/Vrep-map-generator/vrep/maps/&quot;</p>
 </li>
 <li><p>Double click on blue list like icon next to Resizable_floor object in explorer.
 Change port number if default is in conflict with some services. Port number in Java application GUI must be also
 updated when port number in script changes. </p>
 <p>   local server = assert(socket.bind(&quot;*&quot;, 9999))</p>
 </li>
 <li>Press run button located at top bar in Vrep.</li>
 <li>Generate map and press SEND TO VREP. If ports are configured correctly map should be displayed in Vrep.
 Map is also saved to folder Vrep-map-generator/vrep/maps. After stopping simulation maps disappears but might be
 loaded from file stored in folder maps. Use File -&gt; Load Model. In Player distribution of Vrep is saving not
 working because of limited API </li>
 <li>Stopping of simulation takes approximately 10 seconds to correctly end all socket communication protocols. </li>
 </ol>
 <h1 id="building-app">Building app</h1>
 <p>Java 1.8 is required. Project should be interpreted with Ant.</p>

 </body></html></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Package</li>
<li><a href="../MapGenerator/Generators/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?MapGenerator/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
